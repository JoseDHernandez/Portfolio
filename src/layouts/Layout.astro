---
import { ClientRouter } from "astro:transitions";
/* -- Props -- */
interface Props {
  title: string;
  description?: string;
}
const { title, description = SITE_DESCRIPTION } = Astro.props;
/* -- Metadata -- */
import {
  SITE_DESCRIPTION,
  SITE_KEYWORDS,
  SITE_AUTHOR,
  SITE_NAME,
} from "../consts";
const og_title =
  title == "JosÃ©DHernÃ¡ndez"
    ? "Desarrollador web e ingeniero en desarrollo ðŸ˜‰."
    : description;
/* -- Fonts -- */
import { AstroFont } from "astro-font";
/* -- Components -- */
import Footer from "../components/Footer.astro";
import Header from "../components/Header.jsx";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content={SITE_KEYWORDS} />
    <meta name="author" content={SITE_AUTHOR} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="sitemap" type="application/xml" href="/sitemap-index.xml" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={og_title} />
    <meta property="og:image" content="/Images/default-og.jpg" />
    <meta property="og:url" content="https://josedhernandez.com" />
    <meta property="og:site_name" content={SITE_NAME} />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={og_title} />
    <meta name="twitter:image" content="/Images/default-og.jpg" />
    <AstroFont
      config={[
        {
          name: "Poppins",
          src: [
            {
              style: "normal",
              weight: "700",
              path: "/fonts/Poppins-Bold.ttf",
            },
            {
              style: "normal",
              weight: "500",
              path: "/fonts/Poppins-Medium.ttf",
            },
          ],
          preload: false,
          display: "swap",
          selector: "h1,h2,h3,h4,h5,h6",
          fallback: "sans-serif",
        },
        {
          name: "Open Sans",
          src: [
            {
              style: "normal",
              weight: "400",
              path: "/fonts/OpenSans-Regular.ttf",
            },
          ],
          preload: false,
          display: "swap",
          selector: "body",
          fallback: "sans-serif",
        },
        {
          name: "Open Sans",
          src: [
            {
              style: "normal",
              weight: "700",
              path: "/fonts/OpenSans-Bold.ttf",
            },
          ],
          preload: false,
          display: "swap",
          selector: "b,strong",
          fallback: "sans-serif",
        },
        {
          name: "Open Sans",
          src: [
            {
              style: "italic",
              weight: "400",
              path: "/fonts/OpenSans-Italic.ttf",
            },
          ],
          preload: false,
          display: "swap",
          selector: "i,em,q",
          fallback: "sans-serif",
        },
      ]}
    />
    <ClientRouter />
  </head>
  <body>
    <Header client:load />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>
<style lang="scss" is:global>
  @use "../styles/global.scss";
</style>
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);
  let index_tl = gsap.timeline();
  gsap.fromTo(
    ".presentation-image",
    { rotation: 0 },
    {
      rotation: 5,
      duration: 0.5,
    }
  );
  index_tl.from(".presentation-title", {
    scale: 0.5,
    ease: "power2.out",
  });
  index_tl.from(".presentation-description", {
    x: -1000,
  });
  index_tl.from(".presentation-buttons", {
    x: -1000,
  });
  gsap.from(".project-card", {
    opacity: 0,
    y: 50,
    duration: 0.4,
    stagger: 0.2,
    ease: "power2.out",
    scrollTrigger: {
      trigger: ".projects-grid",
      start: "top 80%",
      toggleActions: "play none none none",
      once: true,
    },
  });
</script>
